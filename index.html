<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script></script>
    <title>Document</title>
</head>
<body>
    <h1></h1>
    <h3>JSON is Like XML Because</h3>
    <ul>
        <li>Both JSON and XML are "self describing" (human readable)</li>
        <li>Both JSON and XML are hierarchical (values within values)</li>
        <li>Both JSON and XML can be parsed and used by lots of programming languages</li>
        <li>Both JSON and XML can be fetched with an XMLHttpRequest</li>
    </ul>
    
    <h3>JSON is Unlike XML Because</h3>
    <ul>
        <li>JSON doesn't use end tag</li>
        <li>JSON is shorter</li>
        <li>JSON is quicker to read and write</li>
        <li>JSON can use arrays</li>
    </ul>

    <p>The biggest difference is:</p>
    <p>XML has to be parsed with an XML parser. JSON can be parsed by a standard JavaScript function.</p>

    <h3>Why JSON is Better Than XML</h3>

    <p>XML is much more difficult to parse than JSON.</p>
    <p>JSON is parsed into a ready-to-use JavaScript object.</p>

    <p>For AJAX applications, JSON is faster and easier than XML:</p>

    <p>Using XML</p>
    <ul>
        <li>Fetch an XML document</li>
        <li>Use the XML DOM to loop through the document</li>
        <li>Extract values and store in variables</li>
    </ul>

    <p>Using JSON</p>
    <ul>
        <li>Fetch a JSON string</li>
        <li>JSON.Parse the JSON string</li>
    </ul>

    <h1>JSON Data Types</h1>

    <p>In JSON, values must be one of the following data types:</p>
    <ul>
        <li>a string</li>
        <li>a number</li>
        <li>an object (JSON object)</li>
        <li>an array</li>
        <li>a boolean</li>
        <li>null</li>
    </ul>

    <p><strong>JSON values cannot be one of the following data types:</strong></p>
    <ul>
        <li>a function</li>
        <li>a date</li>
        <li>undefined</li>
    </ul>

    <h3>JSON Strings</h3>
    <p>Strings in JSON must be written in double quotes.</p>
    <p>{"name":"John"}</p>>


    <h3>JSON Numbers</h3>
    <p>Numbers in JSON must be an integer or a floating point.</p>
    <p>{"age":30}</p>

    <h3>JSON Objects</h3>
    <p>Values in JSON can be objects.</p>
    <p>{
        "employee":{
            "name":"John", 
            "age":30, 
            "city":"New York"
            }
        }
    </p>
    
    <h3>JSON Arrays</h3>
    <p>Values in JSON can be arrays.</p>
    <p>{
        "employees":
        [ "John", "Anna", "Peter" ]
        }
    </p>

    <h3>JSON Booleans</h3>
    <p>Values in JSON can be true/false.</p>
    <p>{ "sale":true }</p>
    

    <h3>JSON null</h3>
    <p>Values in JSON can be null.</p>
    <p>{ "middlename":null }</p>


    <h1>JSON.parse()</h1>
    <p>A common use of JSON is to exchange data to/from a web server.</p>
    <p>When receiving data from a web server, the data is always a string.</p>
    <p>Parse the data with JSON.parse(), and the data becomes a JavaScript object.</p>


    <p>Imagine we received this text from a web server:</p>
    <ul>
        <li>'{"name":"John", "age":30, "city":"New York"}'</li>
    </ul>

    <p>Use the JavaScript function JSON.parse() to convert text into a JavaScript object:</p>
    <ul>
        <li>const obj = JSON.parse('{"name":"John", "age":30, "city":"New York"}');</li>
    </ul>


    <p>Use the JavaScript object in your page:</p>

    <h2>Creating an Object from a JSON String</h2>

    <p id="demo"></p>

    <script>
    const txt = '{"name":"John", "age":30, "city":"New York"}'
    const obj = JSON.parse(txt);
    document.getElementById("demo").innerHTML = obj.name + ", " + obj.age;
    </script>

    <p> the result will be following: </p>
    <p>Creating an Object from a JSON String
        John, 30
    </p>

    <h3>Array as JSON</h3>

    <p>When using the JSON.parse() on a JSON derived from an array, the method will return a JavaScript array, instead of a JavaScript object.</p>

    <h2>Parsing a JSON Array.</h2>
    <p>Data written as an JSON array will be parsed into a JavaScript array.</p>
    <p id="demo"></p>

    <script>
    const text = '[ "Ford", "BMW", "Audi", "Fiat" ]';
    const myArr = JSON.parse(text);
    document.getElementById("demo").innerHTML = myArr[0];
    </script>

    <p>we get following result </p>
    <p>
        Parsing a JSON Array.
        Data written as an JSON array will be parsed into a JavaScript array.

        Ford
    </p>

    <h3>Exceptions</h3>

    <p>Parsing Dates</p>
    <p>
        Date objects are not allowed in JSON.

        If you need to include a date, write it as a string.

        You can convert it back into a date object later:
    </p>

    <h2>Convert a string into a date object.</h2>
    <p id="demo"></p>

    <script>
    const text = '{"name":"John", "birth":"1986-12-14", "city":"New York"}';
    const obj = JSON.parse(text);
    obj.birth = new Date(obj.birth);
    document.getElementById("demo").innerHTML = obj.name + ", " + obj.birth; 
    </script>

    <p>
        Or, you can use the second parameter, of the JSON.parse() function, called reviver.

        The reviver parameter is a function that checks each property, before returning the value.
    </p>

    <h2>Convert a string into a date object.</h2>

    <p id="demo"></p>

    <script>
    const text = '{"name":"John", "birth":"1986-12-14", "city":"New York"}';
    const obj = JSON.parse(text, function (key, value) {
    if (key == "birth") {
        return new Date(value);
    } else {
        return value;
    }
    });
    document.getElementById("demo").innerHTML = obj.name + ", " + obj.birth; 
    </script>

    <h3>Parsing Functions</h3>
    <p>
        Functions are not allowed in JSON.

        If you need to include a function, write it as a string.

        You can convert it back into a function later:
    </p>

    <h2>Convert a string into a function.</h2>
    <p id="demo"></p>

    <script>
    const text = '{"name":"John", "age":"function() {return 30;}", "city":"New York"}';
    const obj = JSON.parse(text);
    obj.age = eval("(" + obj.age + ")");
    document.getElementById("demo").innerHTML = obj.name + ", " + obj.age(); 
    </script>

    <p><strong>You should avoid using functions in JSON, the functions will lose their scope, and you would have to use eval() to convert them back into functions.</strong></p>



    <h1>JSON.stringify()</h1>
    <p>
        A common use of JSON is to exchange data to/from a web server.

        When sending data to a web server, the data has to be a string.

        Convert a JavaScript object into a string with JSON.stringify()
    </p>

    <h3>Stringify a JavaScript Object</h3>
    <p>Imagine we have this object in JavaScript:</p>

    <p>const obj = {name: "John", age: 30, city: "New York"};</p>
    <p>
        Use the JavaScript function JSON.stringify() to convert it into a string.

        const myJSON = JSON.stringify(obj);
    </p>

    <p><strong>The result will be a string following the JSON notation.</strong></p>

    <p>myJSON is now a string, and ready to be sent to a server:</p>
    <ul>
        <li>const obj = {name: "John", age: 30, city: "New York"};</li>
        <li>const myJSON = JSON.stringify(obj);</li>
    </ul>

    <p>
        <h2>Create a JSON string from a JavaScript object.</h2>
        <p id="demo"></p>

        <script>
        const obj = {name: "John", age: 30, city: "New York"};
        const myJSON = JSON.stringify(obj);
        document.getElementById("demo").innerHTML = myJSON;
        </script>
    </p>

    <h3>Stringify a JavaScript Array</h3>
    <p>
        It is also possible to stringify JavaScript arrays:

        Imagine we have this array in JavaScript:
    </p>

    <p>
        const arr = ["John", "Peter", "Sally", "Jane"];
        const myJSON = JSON.stringify(arr);
    </p>

    <p>
        <h2>Create a JSON string from a JavaScript array.</h2>
        <p id="demo"></p>

        <script>
        const arr = ["John", "Peter", "Sally", "Jane"];
        const myJSON = JSON.stringify(arr);
        document.getElementById("demo").innerHTML = myJSON;
        </script>
    </p>


    <h3>Storing Data</h3>
    <p>
        When storing data, the data has to be a certain format, and regardless of where you choose to store it, text is always one of the legal formats.

        JSON makes it possible to store JavaScript objects as text.
    </p>

    <p>
        <h2>Store and retrieve data from local storage.</h2>
        <p id="demo"></p>

        <script>
        // Storing data:
        const myObj = { name: "John", age: 31, city: "New York" };
        const myJSON = JSON.stringify(myObj);
        localStorage.setItem("testJSON", myJSON);

        // Retrieving data:
        let text = localStorage.getItem("testJSON");
        let obj = JSON.parse(text);
        document.getElementById("demo").innerHTML = obj.name;
        </script>
    </p>

    <p>and we get: </p>
    <p>
        Store and retrieve data from local storage.
        John
    </p>

    <h3>Exceptions - stringify dates </h3>

    <p>In JSON, date objects are not allowed. The JSON.stringify() function will convert any dates into strings.</p>

    <p>
        <h2>JSON.stringify() converts date objects into strings.</h2>
        <p id="demo"></p>

        <script>
        const obj = {name: "John", today: new Date(), city: "New York"};
        const myJSON = JSON.stringify(obj);
        document.getElementById("demo").innerHTML = myJSON;
        </script>
    </p>

    <p>
        and we get:

        JSON.stringify() converts date objects into strings.
        {"name":"John","today":"2021-06-18T10:21:46.265Z","city":"New York"}

    </p>

    <p>You can convert the string back into a date object at the receiver.</p>

    <h3>Stringify Functions</h3>

    <p>
        In JSON, functions are not allowed as object values.

        The JSON.stringify() function will remove any functions from a JavaScript object, both the key and the value:
    </p>


    <p>
        <h2>JSON.stringify() will remove any functions from an object.</h2>
        <p id="demo"></p>

        <script>
        const obj = {name: "John", age: function () {return 30;}, city: "New York"};
        const myJSON = JSON.stringify(obj);
        document.getElementById("demo").innerHTML = myJSON;
        </script>
    </p>

    <p>
        JSON.stringify() will remove any functions from an object.
        {"name":"John","city":"New York"}
    </p>

    <p>
        This can be omitted if you convert your functions into strings before running the JSON.stringify() function.
    </p>

    <p>
        <h2>JSON.stringify() will remove any functions from an object.</h2>
        <p>Convert functions into strings to keep them in the JSON object.</p>

        <p id="demo"></p>

        <script>
        const obj = {name: "John", age: function () {return 30;}, city: "New York"};
        obj.age = obj.age.toString();
        const myJSON = JSON.stringify(obj);
        document.getElementById("demo").innerHTML = myJSON;
        </script>
    </p>

    <p>
        and we get:
        JSON.stringify() will remove any functions from an object.
        Convert functions into strings to keep them in the JSON object.

        {"name":"John","age":"function () {return 30;}","city":"New York"}
    </p>

    <p>If you send functions using JSON, the functions will lose their scope, and the receiver would have to use eval() to convert them back into functions.</p>



    <h1>JSON Object Literals</h1>
    <p>This is a JSON string:</p>
    <p>'{"name":"John", "age":30, "car":null}'</p>

    <p>Inside the JSON string there is a JSON object literal:</p>
    <p>{"name":"John", "age":30, "car":null}</p>

    <p>
        JSON object literals are surrounded by curly braces {}.

        JSON object literals contains key/value pairs.

        Keys and values are separated by a colon.
    </p>

    <p>Keys must be strings, and values must be a valid JSON data type:</p>
    <ul>
        <li>string</li>
        <li>number</li>
        <li>object</li>
        <li>null</li>
        <li>array</li>
        <li>boolean</li>
    </ul>

    <p>Each key/value pair is separated by a comma.</p>

    <p>
        It is a common mistake to call a JSON object literal "a JSON object".

        JSON cannot be an object. JSON is a string format.

        The data is only JSON when it is in a string format. When it is converted to a JavaScript variable, it becomes a JavaScript object.
    </p>

    <h3>JavaScript Objects</h3>
    <p>You can create a JavaScript object from a JSON object literal:</p>

    <p>
        <h2>Creating an Object from a JSON Literal</h2>
        <p id="demo"></p>

        <script>
        const myObj = {"name":"John", "age":30, "car":null};
        document.getElementById("demo").innerHTML = myObj.name;
        </script>
    </p>

    <p>
        Creating an Object from a JSON Literal
        John
    </p>

    <p>Normally, you create a JavaScript object by parsing a JSON string:</p>
    <p>
        <h2>Creating an Object Parsing JSON</h2>
        <p id="demo"></p>

        <script>
        const myJSON = '{"name":"John", "age":30, "car":null}';
        const myObj = JSON.parse(myJSON);
        document.getElementById("demo").innerHTML = myObj.name;
        </script>
    </p>

    <p>
        Creating an Object Parsing JSON
        John
    </p>

    <h3>Accessing Object Values</h3>
    <p>You can access object values by using dot (.) notation:</p>
    <p>
        <h2>Access a JavaScript Object</h2>
        <p id="demo"></p>

        <script>
        const myJSON = '{"name":"John", "age":30, "car":null}';
        const myObj = JSON.parse(myJSON);
        document.getElementById("demo").innerHTML = myObj.name;
        </script>
    </p>

    <p>
        Access a JavaScript Object
        John
    </p>

    <p>You can also access object values by using bracket ([]) notation:</p>

    <p>
        <h2>Access a JavaScript Object</h2>
        <p id="demo"></p>

        <script>
        const myJSON = '{"name":"John", "age":30, "car":null}';
        const myObj = JSON.parse(myJSON);
        document.getElementById("demo").innerHTML = myObj["name"];
        </script>
    </p>

    <p>
        Access a JavaScript Object
        ohn
    </p>

    <h3>Looping an Object</h3>
    <p>You can loop through object properties with a for-in loop:</p>
    <p>
        <h2>Looping Object Properties</h2>
        <p id="demo"></p>

        <script>
        const myJSON = '{"name":"John", "age":30, "car":null}';
        const myObj = JSON.parse(myJSON);

        let text = "";
        for (let x in myObj) {
        text += x + ", ";
        }
        document.getElementById("demo").innerHTML = text;
        </script>
    </p>

    <p>
        Looping Object Properties
        name, age, car,
    </p>

    <p>In a for-in loop, use the bracket notation to access the property values:</p>
    <p>
        <h2>Looping JavaScript Object Values</h2>
        <p id="demo"></p>

        <script>
        const myJSON = '{"name":"John", "age":30, "car":null}';
        const myObj = JSON.parse(myJSON);

        let text = "";
        for (let x in myObj) {
        text += myObj[x] + ", ";
        }
        document.getElementById("demo").innerHTML = text;
        </script>
    </p>

    <p>
        Looping JavaScript Object Values
        John, 30, null,
    </p>



    <h1>JSON Array Litterals</h1>

    <p>This is a JSON string:</p>
    <p>'["Ford", "BMW", "Fiat"]'</p>

    <p>
        Inside the JSON string there is a JSON array literal:

        ["Ford", "BMW", "Fiat"]

        Arrays in JSON are almost the same as arrays in JavaScript.

        In JSON, array values must be of type string, number, object, array, boolean or null.

        In JavaScript, array values can be all of the above, plus any other valid JavaScript expression, including functions, dates, and undefined.

    </p>


    <h3>JavaScript Arrays</h3>

    <p>
        You can create a JavaScript array from a literal:

        <h2>Creating an Array from a Literal</h2>
        <p id="demo"></p>

        <script>
        const myArray = ["Ford", "BMW", "Fiat"];
        document.getElementById("demo").innerHTML = myArray;
        </script>

        and the result is :

        Creating an Array from a Literal
        Ford,BMW,Fiat
    </p>

    <p>
        You can create a JavaScript array by parsing a JSON string:

        <h2>Creating an Array from JSON</h2>
        <p id="demo"></p>

        <script>
        const myJSON = '["Ford", "BMW", "Fiat"]';
        const myArray = JSON.parse(myJSON);
        document.getElementById("demo").innerHTML = myArray;
        </script>

        we get:
        Creating an Array from JSON
        Ford,BMW,Fiat
    </p>

    <h3>Accessing Array Values</h3>

    <p>
        You access array values by index:
        
        <h2>Acces an Array by Index</h2>
        <p id="demo"></p>

        <script>
        const myJSON = '["Ford", "BMW", "Fiat"]';
        const myArray = JSON.parse(myJSON);
        document.getElementById("demo").innerHTML = myArray[0];
        </script>

        and the result you get:
        Acces an Array by Index
        Ford
    </p>

    <h3>Arrays in Objects</h3>

    <p>
        Objects can contain arrays:

        {
            "name":"John",
            "age":30,
            "cars":["Ford", "BMW", "Fiat"]
        }
    
    </p>

    <p>
        You access array values by index:

        <h2>Access Array Values</h2>
        <p id="demo"></p>

        <script>
        const myJSON = '{"name":"John", "age":30, "cars":["Ford", "BMW", "Fiat"]}';
        const myObj = JSON.parse(myJSON);

        document.getElementById("demo").innerHTML = myObj.cars[0];
        </script>

        result you get:
        Access Array Values
        Ford    

    </p>

    <h3>Looping Through an Array</h3>

    <p>
        You can access array values by using a for in loop:

        <h2>Looping an Array</h2>
        <p id="demo"></p>

        <script>
        const myJSON = '{"name":"John", "age":30, "cars":["Ford", "BMW", "Fiat"]}';
        const myObj = JSON.parse(myJSON);

        let text = "";
        for (let i in myObj.cars) {
        text += myObj.cars[i] + ", ";
        }

        document.getElementById("demo").innerHTML = text;
        </script>

        result we get:
        Looping an Array
        Ford, BMW, Fiat,
    </p>

    <p>

        Or you can use a for loop:

        <h2>Looping an Array</h2>
        <p id="demo"></p>

        <script>
        const myJSON = '{"name":"John", "age":30, "cars":["Ford", "BMW", "Fiat"]}';
        const myObj = JSON.parse(myJSON);

        let text = "";
        for (let i = 0; i < myObj.cars.length; i++) {
        text += myObj.cars[i] + ", ";
        }

        document.getElementById("demo").innerHTML = text;
        </script>
    </p>



    <h1>JSON Server</h1>
    



    <script src="js10.js"></script>

</body>
</html>